@model Aeropost.Models.Factura
@{
    ViewData["Title"] = "Crear Factura";
}

<h1>Crear Factura</h1>

<h4>Factura</h4>
<hr />
<div class="row">
    <div class="col-md-6">
        <form asp-action="Create" id="facturaForm">
            <!--
            ════════════════════════════════════════════════════════════════════════════════════════
            TAG HELPER DE VALIDACIÓN: <div asp-validation-summary="All" class="text-danger"></div>
            ════════════════════════════════════════════════════════════════════════════════════════

            Muestra TODOS los errores del ModelState (generales + de campos).
            Cuando el controlador hace `ModelState.AddModelError(...)` y retorna `View(model)`,
            aquí se renderiza la lista <ul> con los mensajes.

            Opciones:
            - "All":    todos los errores (usado aquí)
            - "ModelOnly": solo errores generales
            - "None":   deshabilitado
            -->
            <div asp-validation-summary="All" class="text-danger"></div>

            <div class="form-group">
                <label asp-for="NumeroFactura" class="control-label">Número de Factura</label>
                <input asp-for="NumeroFactura" class="form-control" type="text" placeholder="FAC20250817123001" />
                <span asp-validation-for="NumeroFactura" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="NumeroTracking" class="control-label">Número de Tracking</label>
                <input asp-for="NumeroTracking" class="form-control" type="text" required placeholder="AM0825MIA12345" />
                <span asp-validation-for="NumeroTracking" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="CedulaCliente" class="control-label">Cédula del Cliente</label>
                <input asp-for="CedulaCliente" class="form-control" type="text" placeholder="1-2345-6789" />
                <span asp-validation-for="CedulaCliente" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="FechaEntrega" class="control-label">Fecha de Entrega</label>
                <input asp-for="FechaEntrega" class="form-control" type="date" />
                <span asp-validation-for="FechaEntrega" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="MontoTotal" class="control-label">Monto Total (USD)</label>
                <input asp-for="MontoTotal" class="form-control" type="number" step="0.01" min="0" />
                <span asp-validation-for="MontoTotal" class="text-danger"></span>
            </div>

            <small class="text-muted d-block mt-2">
                * Si tu controlador calcula el monto a partir del <strong>tracking</strong> (peso, impuestos y especiales),
                puedes dejar <em>Monto Total</em> vacío o como solo lectura según tu lógica.
            </small>

            <br />
